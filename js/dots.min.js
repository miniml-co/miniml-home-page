function create(){for(var e=-1;++e<wide;)for(var t=Math.floor((cb.width-2*padding)/(wide-1)*e+padding)*ratio,n=-1;++n<high;){var i=Math.floor((cb.height-2*padding)/(high-1)*n+padding)*ratio;dots.push({x:t,y:i,ox:t,oy:i})}}function render(){ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height),ctx.fillStyle="rgba(255, 255, 255, 0.17)";for(var e=0;e<dots.length;e++){var t=dots[e],n=getV(t);ctx.beginPath(),ctx.moveTo(t.x,t.y),ctx.lineTo(t.x+n.x,t.y+n.y),ctx.strokeStyle="#16161d",ctx.lineWidth=1*ratio,ctx.stroke(),ctx.closePath()}for(var e=0;e<dots.length;e++){var t=dots[e],n=getV(t);ctx.circle(t.x+n.x,t.y+n.y,t.size*ratio,!0),ctx.fill()}}function getV(e){var t=getDistance(e,mouse);return e.size=(200-t)/30,e.size=e.size<1?1:e.size,e.angle=getAngle(e,mouse),{x:(t>20?20:t)*Math.cos(e.angle*Math.PI/180),y:(t>20?20:t)*Math.sin(e.angle*Math.PI/180)}}function getAngle(e,t){var n=t.x-e.x,i=t.y-e.y,o=Math.atan2(i,n)/Math.PI*180;return o}function getDistance(e,t){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}var stage=document.querySelector("#dots"),cb=stage.getBoundingClientRect(),ctx=stage.getContext("2d"),ratio=window.devicePixelRatio||1,mouse={x:0,y:0},dots=[],wide=46,high=wide/1.8,size=30,padding=0;window.onmousemove=function(e){mouse.x=e.pageX*ratio,mouse.y=e.pageY*ratio},window.onresize=function(){ctx.canvas.width=window.innerWidth*ratio,ctx.canvas.height=window.innerHeight*ratio,cb=stage.getBoundingClientRect()},window.onresize(),create(),CanvasRenderingContext2D.prototype.circle=function(e,t,n){this.beginPath(),this.arc(e,t,n,0,2*Math.PI,!1),this.closePath()},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),function e(){render(),requestAnimationFrame(e)}();
//# sourceMappingURL=dots.min.js.map